{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';// Assuming you are using react-router-dom for navigation\nimport styles from'../collectionspgstyles.module.css';import imgLeftArrow from'../style/arrow_back_ios.png';import imgRightArrow from'../style/arrow_forward_ios.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CollectionsPageBags=()=>{const[data,setData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[startIndex,setStartIndex]=useState(0);useEffect(()=>{const fetchData=async()=>{try{const response=await fetch('http://127.0.0.1:8000/bags/products/',{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!response.ok){throw new Error(\"response was not ok\");}const result=await response.json();setData(result);}catch(error){setError(error.message);}finally{setLoading(false);}};fetchData();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:error});if(!data||data.results.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"No data available\"});const showNext=()=>{const nextIndex=Math.min(startIndex+9,data.results.length-9);setStartIndex(nextIndex);};const showPrevious=()=>{const previousIndex=Math.max(startIndex-9,0);setStartIndex(previousIndex);};const currentProducts=data.results.slice(startIndex,startIndex+9);return/*#__PURE__*/_jsxs(\"div\",{className:styles.collectionpgbags,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.flexContainer,children:currentProducts.map(_ref=>{let{id,name,width,length,description,category,price,old_price,image_urls}=_ref;return/*#__PURE__*/_jsxs(Link,{to:\"/collections/bagdetail/\".concat(id),className:styles.collectionscard,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.spanstyle,children:/*#__PURE__*/_jsxs(\"h4\",{className:styles.pricecollect,children:[Math.floor(parseFloat(price)),\"\\u20BE\"]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.colitemimgwrp,children:/*#__PURE__*/_jsx(\"img\",{className:styles.collitemimages,src:image_urls[0].image,alt:\"img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.collcardtexts,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.collcardtitles,children:name}),/*#__PURE__*/_jsxs(\"h4\",{className:styles.collsizetitles,children:[Math.floor(parseFloat(width)),\" X \",Math.floor(parseFloat(length))]})]})]},id);})}),/*#__PURE__*/_jsx(\"div\",{className:styles.collecsecbtnwrp,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.collecsecbtn,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.collectbtnmore,onClick:showPrevious,children:\"\\u10E7\\u10D5\\u10D4\\u10DA\\u10D0\\u10E1 \\u10DC\\u10D0\\u10EE\\u10D5\\u10D0\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.collecbutton,onClick:showPrevious,children:/*#__PURE__*/_jsx(\"img\",{className:styles.collecsecbtnimg,src:imgLeftArrow,alt:\"img\"})}),/*#__PURE__*/_jsx(\"button\",{className:styles.collecbutton,onClick:showNext,children:/*#__PURE__*/_jsx(\"img\",{className:styles.collecsecbtnimg,src:imgRightArrow,alt:\"img\"})})]})})]});};export default CollectionsPageBags;","map":{"version":3,"names":["React","useEffect","useState","Link","styles","imgLeftArrow","imgRightArrow","jsx","_jsx","jsxs","_jsxs","CollectionsPageBags","data","setData","loading","setLoading","error","setError","startIndex","setStartIndex","fetchData","response","fetch","method","headers","ok","Error","result","json","message","children","className","results","length","showNext","nextIndex","Math","min","showPrevious","previousIndex","max","currentProducts","slice","collectionpgbags","flexContainer","map","_ref","id","name","width","description","category","price","old_price","image_urls","to","concat","collectionscard","spanstyle","pricecollect","floor","parseFloat","colitemimgwrp","collitemimages","src","image","alt","collcardtexts","collcardtitles","collsizetitles","collecsecbtnwrp","collecsecbtn","collectbtnmore","onClick","collecbutton","collecsecbtnimg"],"sources":["C:/Users/ygdra/OneDrive/Desktop/js project/Project/my-app/src/components/CollectionsPageBags.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom'; // Assuming you are using react-router-dom for navigation\r\nimport styles from '../collectionspgstyles.module.css';\r\nimport imgLeftArrow from '../style/arrow_back_ios.png';\r\nimport imgRightArrow from '../style/arrow_forward_ios.png';\r\n\r\nconst CollectionsPageBags = () => {\r\n    const [data, setData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [startIndex, setStartIndex] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await fetch('http://127.0.0.1:8000/bags/products/', {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    }\r\n                });\r\n                if (!response.ok) {\r\n                    throw new Error(\"response was not ok\");\r\n                }\r\n                const result = await response.json();\r\n                setData(result);\r\n            } catch (error) {\r\n                setError(error.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    if (loading) return <p>Loading...</p>;\r\n    if (error) return <p className={styles.error}>{error}</p>;\r\n    if (!data || data.results.length === 0) return <p>No data available</p>;\r\n\r\n    const showNext = () => {\r\n        const nextIndex = Math.min(startIndex + 9, data.results.length - 9);\r\n        setStartIndex(nextIndex);\r\n    };\r\n\r\n    const showPrevious = () => {\r\n        const previousIndex = Math.max(startIndex - 9, 0);\r\n        setStartIndex(previousIndex);\r\n    };\r\n\r\n    const currentProducts = data.results.slice(startIndex, startIndex + 9);\r\n\r\n    return (\r\n        <div className={styles.collectionpgbags}>\r\n            <div className={styles.flexContainer}>\r\n                {currentProducts.map(({ id, name, width, length, description, category, price, old_price, image_urls }) => (\r\n                    <Link to={`/collections/bagdetail/${id}`} className={styles.collectionscard} key={id}>\r\n                        <span className={styles.spanstyle}>\r\n                            <h4 className={styles.pricecollect}>{Math.floor(parseFloat(price))}₾</h4>\r\n                        </span>\r\n                        <div className={styles.colitemimgwrp}>\r\n                            <img className={styles.collitemimages} src={image_urls[0].image} alt=\"img\" />\r\n                        </div>\r\n                        <div className={styles.collcardtexts}>\r\n                            <h3 className={styles.collcardtitles}>{name}</h3>\r\n                            <h4 className={styles.collsizetitles}>{Math.floor(parseFloat(width))} X {Math.floor(parseFloat(length))}</h4>\r\n                        </div>\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n            <div className={styles.collecsecbtnwrp}>\r\n                <div className={styles.collecsecbtn}>\r\n                    <button className={styles.collectbtnmore} onClick={showPrevious}>\r\n                        ყველას ნახვა\r\n                    </button>\r\n                    <button className={styles.collecbutton} onClick={showPrevious}>\r\n                        <img className={styles.collecsecbtnimg} src={imgLeftArrow} alt=\"img\" />\r\n                    </button>\r\n                    <button className={styles.collecbutton} onClick={showNext}>\r\n                        <img className={styles.collecsecbtnimg} src={imgRightArrow} alt=\"img\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CollectionsPageBags;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}