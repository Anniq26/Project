{"ast":null,"code":"import React,{useEffect,useState}from'react';import styles from'../mainpgstyles.module.css';import{Link}from'react-router-dom';import imgLeftArrow from'../style/arrow_back_ios.png';import imgRightArrow from'../style/arrow_forward_ios.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MainPageItems=()=>{const[data,setData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[startIndex,setStartIndex]=useState(0);useEffect(()=>{const fetchData=async()=>{try{const response=await fetch('http://127.0.0.1:8000/bags/products/',{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!response.ok){throw new Error(\"response was not ok\");}const result=await response.json();setData(result);}catch(error){setError(error.message);}finally{setLoading(false);}};fetchData();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:error});if(!data||data.results.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"No data available\"});// Extract the first four products\nconst showNext=()=>{const nextIndex=Math.min(startIndex+4,data.results.length-4);setStartIndex(nextIndex);};const showPrevious=()=>{const previousIndex=Math.max(startIndex-4,0);setStartIndex(previousIndex);};const currentProducts=data.results.slice(startIndex,startIndex+4);const handleClick=route=>{window.open(route,'_self');};return/*#__PURE__*/_jsxs(\"div\",{className:styles.mainpgbags,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.flexContainer,children:currentProducts.map(_ref=>{let{id,name,width,length,description,category,price,old_price,image_urls}=_ref;return/*#__PURE__*/_jsxs(Link,{to:\"/collections/bagdetail/\".concat(id),className:styles.collectionscard,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.spanstyle,children:/*#__PURE__*/_jsxs(\"h4\",{className:styles.pricecollect,children:[Math.floor(parseFloat(price)),\"\\u20BE\"]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.colitemimgwrp,children:/*#__PURE__*/_jsx(\"img\",{className:styles.collitemimages,src:image_urls[0].image,alt:\"img\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.collcardtexts,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.collcardtitles,children:name}),/*#__PURE__*/_jsxs(\"h4\",{className:styles.collsizetitles,children:[Math.floor(parseFloat(width)),\" X \",Math.floor(parseFloat(length))]})]})]},id);})}),/*#__PURE__*/_jsx(\"div\",{className:styles.collecsecbtnwrp,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.collecsecbtn,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleClick('/collections'),className:styles.collectbtnmore,children:\"\\u10E7\\u10D5\\u10D4\\u10DA\\u10D0\\u10E1 \\u10DC\\u10D0\\u10EE\\u10D5\\u10D0\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.collecbutton,onClick:showPrevious,children:/*#__PURE__*/_jsx(\"img\",{className:styles.collecsecbtnimg,src:imgLeftArrow,alt:\"img\"})}),/*#__PURE__*/_jsx(\"button\",{className:styles.collecbutton,onClick:showNext,children:/*#__PURE__*/_jsx(\"img\",{className:styles.collecsecbtnimg,src:imgRightArrow,alt:\"img\"})})]})})]});};export default MainPageItems;","map":{"version":3,"names":["React","useEffect","useState","styles","Link","imgLeftArrow","imgRightArrow","jsx","_jsx","jsxs","_jsxs","MainPageItems","data","setData","loading","setLoading","error","setError","startIndex","setStartIndex","fetchData","response","fetch","method","headers","ok","Error","result","json","message","children","className","results","length","showNext","nextIndex","Math","min","showPrevious","previousIndex","max","currentProducts","slice","handleClick","route","window","open","mainpgbags","flexContainer","map","_ref","id","name","width","description","category","price","old_price","image_urls","to","concat","collectionscard","spanstyle","pricecollect","floor","parseFloat","colitemimgwrp","collitemimages","src","image","alt","collcardtexts","collcardtitles","collsizetitles","collecsecbtnwrp","collecsecbtn","onClick","collectbtnmore","collecbutton","collecsecbtnimg"],"sources":["C:/Users/ygdra/OneDrive/Desktop/js project/Project/my-app/src/components/MainPageItems.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styles from '../mainpgstyles.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport imgLeftArrow from '../style/arrow_back_ios.png';\r\nimport imgRightArrow from '../style/arrow_forward_ios.png';\r\n\r\n\r\nconst MainPageItems = () => {\r\n    const [data, setData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [startIndex, setStartIndex] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await fetch('http://127.0.0.1:8000/bags/products/', {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    }\r\n                });\r\n                if (!response.ok) {\r\n                    throw new Error(\"response was not ok\");\r\n                }\r\n                const result = await response.json();\r\n                setData(result);\r\n            } catch (error) {\r\n                setError(error.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    if (loading) return <p>Loading...</p>;\r\n    if (error) return <p className={styles.error}>{error}</p>;\r\n    if (!data || data.results.length === 0) return <p>No data available</p>;\r\n\r\n    // Extract the first four products\r\n\r\n    const showNext = () => {\r\n        const nextIndex = Math.min(startIndex + 4, data.results.length - 4);\r\n        setStartIndex(nextIndex);\r\n    };\r\n\r\n    const showPrevious = () => {\r\n        const previousIndex = Math.max(startIndex - 4, 0);\r\n        setStartIndex(previousIndex);\r\n    };\r\n\r\n    const currentProducts = data.results.slice(startIndex, startIndex + 4);\r\n    const handleClick = (route) => {\r\n        window.open(route, '_self');\r\n    };\r\n\r\n    return (\r\n    <div className={styles.mainpgbags}>\r\n        <div className={styles.flexContainer}>\r\n            {currentProducts.map(({ id, name, width, length, description, category, price, old_price, image_urls }) => (\r\n                <Link to={`/collections/bagdetail/${id}`} className={styles.collectionscard} key={id}>\r\n                    <span className={styles.spanstyle}>\r\n                        <h4 className={styles.pricecollect}>{Math.floor(parseFloat(price))}₾</h4>\r\n                    </span>\r\n                    <div className={styles.colitemimgwrp}>\r\n                        <img className={styles.collitemimages} src={image_urls[0].image} alt=\"img\" />\r\n                    </div>\r\n                    <div className={styles.collcardtexts}>\r\n                        <h3 className={styles.collcardtitles}>{name}</h3>\r\n                        <h4 className={styles.collsizetitles}>{Math.floor(parseFloat(width))} X {Math.floor(parseFloat(length))}</h4>\r\n                    </div>\r\n                </Link>\r\n            ))}\r\n        </div>\r\n        <div className={styles.collecsecbtnwrp}>\r\n            <div className={styles.collecsecbtn}>\r\n                <button onClick={() => handleClick('/collections')} className={styles.collectbtnmore}>\r\n                    ყველას ნახვა \r\n                </button>\r\n                <button className={styles.collecbutton} onClick={showPrevious}>\r\n                    <img className={styles.collecsecbtnimg} src={imgLeftArrow} alt=\"img\" />\r\n                </button>\r\n                <button className={styles.collecbutton} onClick={showNext}>\r\n                    <img className={styles.collecsecbtnimg} src={imgRightArrow} alt=\"img\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default MainPageItems;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}